(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{308:function(e,t,o){"use strict";o.r(t);var r=o(14),a=Object(r.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"react-native"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#react-native"}},[e._v("#")]),e._v(" react-native")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://reactnative.dev",target:"_blank",rel:"noopener noreferrer"}},[e._v("官方站点"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://reactnative.cn/",target:"_blank",rel:"noopener noreferrer"}},[e._v("中文网"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/jondot/awesome-react-native",target:"_blank",rel:"noopener noreferrer"}},[e._v("常用的第三方库"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"react-native-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#react-native-2"}},[e._v("#")]),e._v(" React Native")]),e._v(" "),t("p",[e._v("页面的所有元素都是视图（Views）。\nReact Native 封装原生组件，提供基本的视图。\n主要有"),t("code",[e._v("<View>``<Text>``<Image>``<ScrollView>``<TextInput>")]),e._v("；\n更多组件见"),t("a",{attrs:{href:"https://reactnative.cn/docs/components-and-apis",target:"_blank",rel:"noopener noreferrer"}},[e._v("组件文档"),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("ul",[t("li",[e._v("组件")]),e._v(" "),t("li",[e._v("平台"),t("code",[e._v("Platform")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("Platform.OS === 'ios'")])]),e._v(" "),t("li",[e._v("Android "),t("code",[e._v("Platform.Version === 25")]),e._v(" / IOS "),t("code",[e._v("parseInt(Platform.Version, 10)")])]),e._v(" "),t("li",[e._v("「文件扩展名」区分特定平台\n"),t("ul",[t("li",[t("code",[e._v("BigButton.ios.js")])]),e._v(" "),t("li",[t("code",[e._v("BigButton.android.js")])]),e._v(" "),t("li",[t("code",[e._v("BigButton.native.js")]),e._v(" web端不会使用")])])])])])]),e._v(" "),t("h3",{attrs:{id:"开发环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开发环境"}},[e._v("#")]),e._v(" 开发环境")]),e._v(" "),t("blockquote",[t("p",[e._v("以"),t("a",{attrs:{href:"https://reactnative.cn/docs/environment-setup",target:"_blank",rel:"noopener noreferrer"}},[e._v("最新文档"),t("OutboundLink")],1),e._v("为准")])]),e._v(" "),t("ul",[t("li",[e._v("IOS\n"),t("ul",[t("li",[t("a",{attrs:{href:"http://nodejs.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Node"),t("OutboundLink")],1),e._v(" "),t("blockquote",[t("p",[e._v("编译react基本环境")])])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://facebook.github.io/watchman/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Watchman"),t("OutboundLink")],1),e._v(" "),t("blockquote",[t("p",[e._v("观察文件变化")])])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://developer.apple.com/xcode/downloads/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Xcode"),t("OutboundLink")],1),e._v(" "),t("blockquote",[t("p",[e._v("IOS 开发环境")])])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://guides.cocoapods.org/using/getting-started.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("CocoaPods"),t("OutboundLink")],1),e._v(" "),t("blockquote",[t("p",[e._v("react native 的 iOS 版本需要使用 CocoaPods 来管理依赖")])]),e._v(" "),t("ul",[t("li",[e._v("安装："),t("code",[e._v("$ sudo gem install cocoapods")]),e._v(" / "),t("code",[e._v("$ brew install cocoapods")])])])])])]),e._v(" "),t("li",[e._v("Android\n"),t("ul",[t("li",[e._v("Node")]),e._v(" "),t("li",[e._v("Watchman")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://www.oracle.com/java/technologies/downloads/",target:"_blank",rel:"noopener noreferrer"}},[e._v("JDK"),t("OutboundLink")],1),e._v(" "),t("blockquote",[t("p",[e._v("java 开发环境（React Native 需要 Java Development Kit [JDK] 1.8）")])]),e._v(" "),t("ul",[t("li",[e._v("安装："),t("code",[e._v("$ brew install adoptopenjdk/openjdk/adoptopenjdk8")])])])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://developer.android.google.cn/studio/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Android Studio"),t("OutboundLink")],1),e._v(" "),t("blockquote",[t("p",[e._v("Android 开发环境")])])]),e._v(" "),t("li",[e._v("真机调试\n"),t("ol",[t("li",[e._v("设备中开启USB调试")]),e._v(" "),t("li",[t("code",[e._v("$ adb devices")]),e._v("查看有效设备")]),e._v(" "),t("li",[e._v("设备访问电脑服务（实时更新最新编译结果）\n"),t("ul",[t("li",[e._v("Android5.0以上 "),t("code",[e._v("$ adb reverse tcp:8081 tcp:8081")])])])])])])])])]),e._v(" "),t("h3",{attrs:{id:"快速开始"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#快速开始"}},[e._v("#")]),e._v(" 快速开始")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("$ npx react-native init AwesomeProject")]),e._v(" 初始化一项项目")]),e._v(" "),t("li",[t("code",[e._v("$ yarn react-native run-ios")]),e._v(" 编译并运行ios\n"),t("ul",[t("li",[e._v("对 ios 目录（原生部分）的编译，并运行")]),e._v(" "),t("li",[t("strong",[e._v("对 js 代码")]),e._v("实时打包\n"),t("ul",[t("li",[e._v("内部已有"),t("code",[e._v("Metro")]),e._v("做实时打包")]),e._v(" "),t("li",[e._v("也可以用"),t("code",[e._v("$ node node_modules/react-native/local-cli/cli.js start")]),e._v("单独运行")])])])])]),e._v(" "),t("li",[t("code",[e._v("$ yarn react-native run-android")]),e._v(" 编译并运行android\n"),t("ul",[t("li",[e._v("对 android 目录（原生部分）的编译，并运行")]),e._v(" "),t("li",[t("strong",[e._v("对 js 代码")]),e._v("实时打包")])])])]),e._v(" "),t("h3",{attrs:{id:"调试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#调试"}},[e._v("#")]),e._v(" 调试")]),e._v(" "),t("ul",[t("li",[e._v("在 chrome 打开 "),t("code",[e._v("http://localhost:8081/debugger-ui")]),e._v(" 调试 js 代码")]),e._v(" "),t("li",[e._v("Android\n"),t("ul",[t("li",[t("code",[e._v("Command⌘ + M")]),e._v(" / "),t("code",[e._v("$ adb shell input keyevent 82")]),e._v(" 唤出设备的开发菜单")]),e._v(" "),t("li",[e._v("在 chrome 打开 "),t("code",[e._v("chrome://inspect/#devices")]),e._v(" 调试嵌入的 web")]),e._v(" "),t("li",[t("code",[e._v("$ npx react-native log-android")]),e._v(" 查看日志")]),e._v(" "),t("li",[t("code",[e._v("$ adb logcat > a.log")]),e._v(" 捕获设备日志并写入文件")])])]),e._v(" "),t("li",[e._v("IOS\n"),t("ul",[t("li",[t("code",[e._v("Command⌘ + D")]),e._v(" 唤出设备的开发菜单")]),e._v(" "),t("li",[e._v("在 safari 打开"),t("code",[e._v("Develop/开发 → Simulator/模拟器 → JSContext")])]),e._v(" "),t("li",[t("code",[e._v("$ npx react-native log-ios")]),e._v(" 查看日志")]),e._v(" "),t("li",[e._v("模拟器 "),t("code",[e._v("Debug → Open System Log...")]),e._v(" 查看日志")])])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/facebook/react/tree/main/packages/react-devtools",target:"_blank",rel:"noopener noreferrer"}},[e._v("react-devtools"),t("OutboundLink")],1),e._v("调试视图\n"),t("ul",[t("li",[e._v("安装："),t("code",[e._v("$ npm install -g react-devtools")])]),e._v(" "),t("li",[e._v("运行："),t("code",[e._v("$ react-devtools")])]),e._v(" "),t("li",[e._v("开启设备中开发菜单中的"),t("code",[e._v("Inspector")]),e._v("，同步选择的视图节点")]),e._v(" "),t("li",[t("code",[e._v("http://localhost:8081/debugger-ui")]),e._v(" 站点的 "),t("code",[e._v("console")]),e._v(" 域切换为 "),t("code",[e._v("debuggerWorker")]),e._v("，同步日志")])])]),e._v(" "),t("li",[t("code",[e._v("metro-symbolicate")]),e._v(" 根据 source map 翻译生产包日志\n"),t("ul",[t("li",[t("code",[e._v("$ npx metro-symbolicate android/app/build/generated/sourcemaps/react/release/index.android.bundle.map < stacktrace.txt")])]),e._v(" "),t("li",[t("code",[e._v("$ adb logcat -d | npx metro-symbolicate android/app/build/generated/sourcemaps/react/release/index.android.bundle.map")])])])])]),e._v(" "),t("h2",{attrs:{id:"code-push"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#code-push"}},[e._v("#")]),e._v(" Code Push")]),e._v(" "),t("blockquote",[t("p",[e._v("热更新可以使你绕过 AppStore 的审核机制，直接修改已经上架的应用。")])]),e._v(" "),t("h2",{attrs:{id:"adb"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#adb"}},[e._v("#")]),e._v(" "),t("a",{attrs:{href:"http://developer.android.com/tools/help/adb.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("adb"),t("OutboundLink")],1)]),e._v(" "),t("ul",[t("li",[t("code",[e._v("$ adb devices")]),e._v(" 查看有效设备")]),e._v(" "),t("li",[t("code",[e._v("$ adb logcat > a.log")]),e._v(" 捕获设备日志并写入文件")])])])}),[],!1,null,null,null);t.default=a.exports}}]);
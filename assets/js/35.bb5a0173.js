(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{300:function(e,t,o){"use strict";o.r(t);var _=o(14),v=Object(_.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"dumi"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dumi"}},[e._v("#")]),e._v(" "),t("a",{attrs:{href:"https://github.com/umijs/dumi",target:"_blank",rel:"noopener noreferrer"}},[e._v("dumi"),t("OutboundLink")],1)]),e._v(" "),t("blockquote",[t("p",[e._v("依托"),t("code",[e._v("umi")]),e._v("，通过 ‘umi 插件’形式 实现文档功能。")])]),e._v(" "),t("h2",{attrs:{id:"routes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#routes"}},[e._v("#")]),e._v(" routes")]),e._v(" "),t("blockquote",[t("p",[e._v("确定文档文件，并构建路由结构\n"),t("code",[e._v("dumi/packages/preset-dumi/src/plugins/features/routes.ts")]),e._v(" "),t("code",[e._v("@umijs/preset-dumi/src/routes/getRouteConfig.ts")])])]),e._v(" "),t("ol",[t("li",[e._v("递归获取文件夹中符合条件的文件")]),e._v(" "),t("li",[e._v("根据文件夹结构对应构建路由结构")]),e._v(" "),t("li",[e._v("路由对象中"),t("code",[e._v("component")]),e._v("属性，即引用"),t("code",[e._v(".md")]),e._v("文件")]),e._v(" "),t("li",[e._v("在"),t("code",[e._v("umi")]),e._v("中，将动态路由数据放在临时文件"),t("code",[e._v("core/routes.ts")]),e._v("中\n"),t("blockquote",[t("p",[t("code",[e._v("umi")]),e._v("中，临时文件"),t("code",[e._v("umi.ts")]),e._v("中将引用"),t("code",[e._v("core/routes.ts")]),e._v("文件")])])])]),e._v(" "),t("h2",{attrs:{id:"dumi-loader"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dumi-loader"}},[e._v("#")]),e._v(" "),t("code",[e._v("dumi-loader")])]),e._v(" "),t("blockquote",[t("p",[t("code",[e._v(".md")]),e._v("文件的处理方式；\n"),t("code",[e._v("dumi/packages/preset-dumi/src/plugins/features/compile.ts")]),e._v("；\n使用"),t("code",[e._v("dumi-loader")]),e._v("处理返回"),t("code",[e._v(".tsx")]),e._v("内容传递给"),t("code",[e._v("babel-loader")])])]),e._v(" "),t("ol",[t("li",[t("code",[e._v(".md")]),e._v("文件处理\n"),t("blockquote",[t("p",[t("code",[e._v("@umijs/preset-dumi/src/transformer/index.ts")])])]),e._v(" "),t("ol",{attrs:{start:"0"}},[t("li",[e._v("根据文件修改时间，缓存处理结果")]),e._v(" "),t("li",[e._v("使用"),t("code",[e._v("remark")]),e._v("解析"),t("code",[e._v(".md")]),e._v("文件")]),e._v(" "),t("li",[e._v("使用个别自定义插件处理 md 内容")])])]),e._v(" "),t("li",[e._v("由"),t("code",[e._v("theme")]),e._v("和"),t("code",[e._v("markdownResult")]),e._v("拼接"),t("code",[e._v("tsx")]),e._v("页面内容")])])])}),[],!1,null,null,null);t.default=v.exports}}]);
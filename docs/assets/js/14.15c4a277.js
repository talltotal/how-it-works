(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{175:function(o,e,v){"use strict";v.r(e);var _=v(0),i=Object(_.a)({},function(){var o=this,e=o.$createElement,v=o._self._c||e;return v("div",{staticClass:"content"},[o._m(0),o._v(" "),o._m(1),o._v(" "),v("ol",[v("li",[o._v("插件模式\n"),v("ul",[v("li",[v("a",{attrs:{href:"https://github.com/webpack/tapable",target:"_blank",rel:"noopener noreferrer"}},[o._v("tapable"),v("OutboundLink")],1)]),o._v(" "),v("li",[o._v("某些类似hook的存在")]),o._v(" "),v("li",[o._v("对做复杂工作的类定义工作的流程和步骤，将task前后甚至某些task本身命名为一个hook；创建类或触发类方法时流程开始")]),o._v(" "),v("li",[o._v("此模式贯彻webpack，应用于几乎所有流程中：Compiler、Compilation、Template、 ModuleFactory、Parser...")])])]),o._v(" "),v("li",[o._v("语法树\n"),v("ul",[v("li",[o._v("js 解析器\n"),v("ul",[v("li",[v("a",{attrs:{href:"https://www.npmjs.com/package/acorn",target:"_blank",rel:"noopener noreferrer"}},[o._v("acorn"),v("OutboundLink")],1)]),o._v(" "),v("li",[v("a",{attrs:{href:"https://www.npmjs.com/package/acorn-dynamic-import",target:"_blank",rel:"noopener noreferrer"}},[o._v("acorn-dynamic-import"),v("OutboundLink")],1)])])]),o._v(" "),v("li")])])]),o._v(" "),v("p",[o._v("template\n- main\n- chunk")]),o._v(" "),o._m(2),o._v(" "),o._m(3),o._v(" "),o._m(4),o._v(" "),v("ol",[v("li",[o._v("入参校验\n"),v("ul",[v("li",[o._v("定义所有可配项的校验规则（"),v("a",{attrs:{href:"https://www.npmjs.com/package/ajv",target:"_blank",rel:"noopener noreferrer"}},[o._v("ajv"),v("OutboundLink")],1),o._v("）")]),o._v(" "),v("li",[o._v("校验错误时直接抛出错误（"),v("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error#Custom_Error_Types",target:"_blank",rel:"noopener noreferrer"}},[o._v("Custom Error Types"),v("OutboundLink")],1),o._v("）")])])]),o._v(" "),o._m(5),o._v(" "),o._m(6)]),o._v(" "),o._m(7),o._v(" "),o._m(8),o._v(" "),o._m(9),o._v(" "),o._m(10),o._v(" "),o._m(11),o._v(" "),o._m(12),o._v(" "),o._m(13),o._v(" "),o._m(14),o._v(" "),o._m(15),o._v(" "),o._m(16),o._v(" "),o._m(17),o._v(" "),o._m(18),o._v(" "),o._m(19),o._v(" "),o._m(20),o._v(" "),o._m(21),o._v(" "),o._m(22)])},[function(){var o=this.$createElement,e=this._self._c||o;return e("h1",{attrs:{id:"webpack"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webpack","aria-hidden":"true"}},[this._v("#")]),this._v(" webpack")])},function(){var o=this.$createElement,e=this._self._c||o;return e("h2",{attrs:{id:"主要"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#主要","aria-hidden":"true"}},[this._v("#")]),this._v(" 主要")])},function(){var o=this,e=o.$createElement,v=o._self._c||e;return v("ul",[v("li",[o._v("一个文件视为 "),v("code",[o._v("dependency")])]),o._v(" "),v("li",[v("code",[o._v("dependency")]),o._v(" ----"),v("code",[o._v("ModuleFactory")]),o._v("--\x3e> "),v("code",[o._v("module")])]),o._v(" "),v("li",[v("code",[o._v("module")]),o._v(" 的 "),v("code",[o._v("dependency")]),o._v(" ->> "),v("code",[o._v("module")]),o._v(" ==》 "),v("code",[o._v("module graph")])]),o._v(" "),v("li"),o._v(" "),v("li",[o._v("用 "),v("code",[o._v("loader")]),o._v(" 预处理 "),v("code",[o._v("module")])]),o._v(" "),v("li",[o._v("模块之间的依赖关系 "),v("code",[o._v("dependency")])])])},function(){var o=this.$createElement,e=this._self._c||o;return e("h2",{attrs:{id:"顺序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#顺序","aria-hidden":"true"}},[this._v("#")]),this._v(" 顺序")])},function(){var o=this.$createElement,e=this._self._c||o;return e("h3",{attrs:{id:"前期准备"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前期准备","aria-hidden":"true"}},[this._v("#")]),this._v(" 前期准备")])},function(){var o=this.$createElement,e=this._self._c||o;return e("li",[this._v("配置补全\n"),e("ul",[e("li",[this._v("定义配置项的默认值/值处理函数（包括深拷贝、兼容处理、附加项等）")]),this._v(" "),e("li",[this._v("基于默认配置合并/包装入参配置")])])])},function(){var o=this.$createElement,e=this._self._c||o;return e("li",[this._v("编辑器赋能（node）\n"),e("ul",[e("li",[this._v("inputFileSystem")]),this._v(" "),e("li",[this._v("outputFileSystem")]),this._v(" "),e("li",[this._v("watchFileSystem")])])])},function(){var o=this.$createElement,e=this._self._c||o;return e("h3",{attrs:{id:"编译准备"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#编译准备","aria-hidden":"true"}},[this._v("#")]),this._v(" 编译准备")])},function(){var o=this,e=o.$createElement,v=o._self._c||e;return v("ol",[v("li",[o._v("配置插件运行 ··································· "),v("code",[o._v("plugins")]),o._v(" "),v("ul",[v("li",[o._v("插件的"),v("code",[o._v("apply")]),o._v("函数会传入编辑器实例对象，在"),v("strong",[o._v("hook")]),o._v("上加处理")])])])])},function(){var o=this,e=o.$createElement,v=o._self._c||e;return v("ul",[v("li",[v("strong",[o._v("hook")]),o._v(": "),v("code",[o._v("environment(): void")]),o._v(" "),v("br")]),o._v(" "),v("li",[v("strong",[o._v("hook")]),o._v(": "),v("code",[o._v("after-environment(): void")])])])},function(){var o=this,e=o.$createElement,v=o._self._c||e;return v("ol",{attrs:{start:"2"}},[v("li",[o._v("内置插件运行（根据配置转换成编译器的属性/webpack内置插件并运行）\n"),v("ul",[v("li",[o._v("交付件的运行环境 ····························· "),v("code",[o._v("target")]),o._v(" "),v("ul",[v("li",[o._v("根据不同环境向编译器增加适配插件\n"),v("ul",[v("li",[o._v("this-compilation -> MainTemplatePlugin / ChunkTemplatePlugin / HotUpdateChunkTemplatePlugin")]),o._v(" "),v("li",[o._v("compilation -> ModuleTemplatePlugin / params.normalModuleFactory / compilation.normal-module-loader")]),o._v(" "),v("li",[o._v("after-resolvers -> compiler.resolvers.normal")])])])])]),o._v(" "),v("li",[o._v("以库形式输出的打包处理 ························ "),v("code",[o._v("library")]),o._v(" "),v("ul",[v("li",[o._v("this-compilation -> MainTemplatePlugin")])])]),o._v(" "),v("li",[o._v("外部依赖 ···································· "),v("code",[o._v("externals")]),o._v(" "),v("ul",[v("li",[o._v("compile -> params.normalModuleFactory")])])]),o._v(" "),v("li",[o._v("开发者工具 ··································· "),v("code",[o._v("devtool")]),o._v(" "),v("ul",[v("li",[o._v("compilation -> ModuleTemplatePlugin")])])]),o._v(" "),v("li",[o._v("解析 "),v("code",[o._v("entry")]),o._v(" 做到支持 "),v("code",[o._v("String, Array, Function")]),o._v("，增加 "),v("code",[o._v("make")]),o._v(" 插件使增加入口")]),o._v(" "),v("li",[v("strong",[o._v("hook")]),o._v(": "),v("code",[o._v("entry-option")])]),o._v(" "),v("li",[v("h2",{attrs:{id:"compilation-插件"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#compilation-插件","aria-hidden":"true"}},[o._v("#")]),o._v(" "),v("code",[o._v("compilation")]),o._v(" 插件")])]),o._v(" "),v("li",[o._v("...")]),o._v(" "),v("li",[v("strong",[o._v("hook")]),o._v(": "),v("code",[o._v("after-plugins")]),o._v(" 插件增加完毕")]),o._v(" "),v("li",[v("code",[o._v("resolvers")])]),o._v(" "),v("li",[v("strong",[o._v("hook")]),o._v(": "),v("code",[o._v("after-resolvers")])])])])])},function(){var o=this,e=o.$createElement,v=o._self._c||e;return v("ul",[v("li",[v("strong",[o._v("hook")]),o._v(": "),v("code",[o._v("before-run(): void")]),o._v(" "),v("br")]),o._v(" "),v("li",[v("strong",[o._v("hook")]),o._v(": "),v("code",[o._v("run(): void")])])])},function(){var o=this.$createElement,e=this._self._c||o;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("读取已存储的编译状态\n"),e("ul",[e("li",[this._v("以对象的形式存储"),e("strong",[this._v("编译状态")])]),this._v(" "),e("li",[this._v("json 文件持久化 ············ "),e("code",[this._v("recordsInputPath/recordsOutputPath/recordsPath")])])])])])},function(){var o=this.$createElement,e=this._self._c||o;return e("h3",{attrs:{id:"编译执行"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#编译执行","aria-hidden":"true"}},[this._v("#")]),this._v(" 编译执行")])},function(){var o=this,e=o.$createElement,v=o._self._c||e;return v("ol",[v("li",[o._v("初始化编译参数 "),v("code",[o._v("params")]),o._v(" "),v("ul",[v("li",[o._v("一般的模块处理工厂 【"),v("code",[o._v("normalModuleFactory")]),o._v("】 ··········· "),v("code",[o._v("module")]),o._v(" "),v("blockquote",[v("p",[o._v("插件可以：将自定义的模块类的工厂指定为此；给此工厂增加插件")])])]),o._v(" "),v("li",[v("strong",[o._v("hook")]),o._v(": "),v("code",[o._v("normal-module-factory(normalModuleFactory): void")]),o._v(" "),v("blockquote",[v("p",[o._v("基础的模块工厂实例创建完成，第一个可用hook")])])]),o._v(" "),v("li",[o._v("上下文的模块处理工厂【"),v("code",[o._v("contextModuleFactory")]),o._v("】")]),o._v(" "),v("li",[v("strong",[o._v("hook")]),o._v(": "),v("code",[o._v("context-module-factory(contextModuleFactory): void")])]),o._v(" "),v("li",[v("code",[o._v("compilationDependencies: Array<>")])])])])])},function(){var o=this,e=o.$createElement,v=o._self._c||e;return v("ul",[v("li",[v("strong",[o._v("hook")]),o._v(": "),v("code",[o._v("before-compile(params, cb): void")]),o._v(" "),v("br")]),o._v(" "),v("li",[v("strong",[o._v("hook")]),o._v(": "),v("code",[o._v("compile(params): void")])])])},function(){var o=this,e=o.$createElement,v=o._self._c||e;return v("ol",{attrs:{start:"2"}},[v("li",[o._v("创建编译实例 【"),v("code",[o._v("compilation")]),o._v("】\n"),v("ul",[v("li",[o._v("mainTemplate")]),o._v(" "),v("li",[o._v("chunkTemplate")]),o._v(" "),v("li",[o._v("hotUpdateChunkTemplate")]),o._v(" "),v("li",[v("strong",[o._v("hook")]),o._v(": "),v("code",[o._v("this-compilation(compilation, params): void")]),o._v(" "),v("br")]),o._v(" "),v("li",[v("strong",[o._v("hook")]),o._v(": "),v("code",[o._v("compilation(compilation, params): void")]),o._v(" "),v("ul",[v("li",[o._v("注册依赖工厂（只有注册过的依赖可以使用） ··· "),v("code",[o._v("compilation.dependencyFactories")])])])])])])])},function(){var o=this,e=o.$createElement,v=o._self._c||e;return v("ul",[v("li",[v("strong",[o._v("hook")]),o._v(": "),v("code",[o._v("make(compilation, cb): void")]),o._v(" "),v("ul",[v("li",[o._v("真正编译阶段，插件在这个hook中调用 "),v("code",[o._v("compilation.prefetch")]),o._v(" / "),v("code",[o._v("compilation.addEntry")]),o._v(" 开始")]),o._v(" "),v("li",[o._v("依赖（"),v("code",[o._v("dependencie")]),o._v("）交给模块工厂得到模块实例 "),v("code",[o._v("module")]),o._v(" "),v("blockquote",[v("p",[o._v("自定义的工厂需有create函数")])]),o._v(" "),v("ul",[v("li",[v("strong",[o._v("normalModuleFactory.hook")]),o._v(": "),v("code",[o._v("before-resolve")])]),o._v(" "),v("li",[v("strong",[o._v("normalModuleFactory.hook")]),o._v(": "),v("code",[o._v("factory")])]),o._v(" "),v("li",[v("strong",[o._v("normalModuleFactory.hook")]),o._v(": "),v("code",[o._v("resolver(): resolver")]),o._v(" "),v("ul",[v("li",[v("code",[o._v("require")]),o._v(" 字符串正则解析，得到内敛 "),v("code",[o._v("loader")]),o._v(" "),v("blockquote",[v("p",[o._v("格式："),v("code",[o._v("loader!loader!loader!file")]),o._v("\n前部可以设置此文件是否使用外部的前/中/后处理")]),o._v(" "),v("ol",[v("li",[o._v("'-!xxxx' 只使用外部后处理")]),o._v(" "),v("li",[o._v("'!xxxx' 不使用外部中处理")]),o._v(" "),v("li",[o._v("'!!xxxx' 不使用任何外部loader")])])])]),o._v(" "),v("li",[o._v("内敛结合外部配置得到所有 "),v("code",[o._v("loader")]),o._v(" "),v("blockquote",[v("p",[v("code",[o._v("loader")]),o._v(" 根据 "),v("code",[o._v("enforce")]),o._v(" 指定使用的时机并以此排序\n顺序：外部后 - 内敛 - 外部中 - 外部前\n后续会从左往右调用 "),v("code",[o._v("loader")]),o._v(" 的 "),v("code",[o._v("pitch")]),o._v(" 方法（有返回值时不再执行后面的 "),v("code",[o._v("loader")]),o._v("），再从右往左调用 "),v("code",[o._v("loader")]),o._v(" 方法")])])]),o._v(" "),v("li",[o._v("根据 "),v("code",[o._v("resolve")]),o._v(" 验证模块和loader有效")]),o._v(" "),v("li",[o._v("构建解析器")]),o._v(" "),v("li",[v("strong",[o._v("normalModuleFactory.hook")]),o._v(": "),v("code",[o._v("parser")])])])]),o._v(" "),v("li",[v("strong",[o._v("normalModuleFactory.hook")]),o._v(": "),v("code",[o._v("after-resolve")])]),o._v(" "),v("li",[v("strong",[o._v("normalModuleFactory.hook")]),o._v(": "),v("code",[o._v("create-module()")])]),o._v(" "),v("li",[o._v("构建 "),v("code",[o._v("module")]),o._v(" 实例")]),o._v(" "),v("li",[v("strong",[o._v("normalModuleFactory.hook")]),o._v(": "),v("code",[o._v("module(): module")])]),o._v(" "),v("li",[o._v("在 "),v("code",[o._v("dependencie")]),o._v(" 绑定 "),v("code",[o._v("module")]),o._v(" 做缓存 ············ "),v("code",[o._v("__NormalModuleFactoryCache")])])])]),o._v(" "),v("li",[o._v("存储模块\n"),v("ul",[v("li",[o._v("缓存")])])]),o._v(" "),v("li",[o._v("构建模块\n"),v("ul",[v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("build-module(modules): void")])]),o._v(" "),v("li",[o._v("构建\n"),v("ul",[v("li",[o._v("代码文本传给"),v("code",[o._v("loader")]),o._v("处理\n"),v("blockquote",[v("p",[v("code",[o._v("loader")]),o._v(" 内部解析文件处理完后转成"),v("strong",[o._v("js格式文本")]),o._v("返回或直接调用"),v("code",[o._v("loaderContext.callback")])])])]),o._v(" "),v("li",[o._v("解析器解析处理后的代码，得到 "),v("code",[o._v("dependencies")]),o._v(" "),v("ul",[v("li",[v("strong",[o._v("parser.hook")]),o._v(": "),v("code",[o._v("program(ast, comments): any")])])])])])]),o._v(" "),v("li",[o._v("收集构建过程的warn/error")]),o._v(" "),v("li",[o._v("对依赖排序")]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("failed-module(modules): void")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("succeed-module(modules): void")])])])]),o._v(" "),v("li",[o._v("构建模块依赖树\n"),v("ul",[v("li",[o._v("每个依赖即模块，根据对应的模块工厂开始实例->存储->构建")]),o._v(" "),v("li",[o._v("形成整一个以入口为开始的模块依赖网络")]),o._v(" "),v("li",[o._v("利用缓存和实例标识结束递归")])])]),o._v(" "),v("li",[o._v("开始入口的 "),v("code",[o._v("module")]),o._v(" 作为 "),v("code",[o._v("preparedChunk")])])])])])},function(){var o=this,e=o.$createElement,v=o._self._c||e;return v("ol",{attrs:{start:"3"}},[v("li",[o._v("整理编译的错误和警告\n"),v("ul",[v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("finish-modules(modules): void")])])])]),o._v(" "),v("li",[o._v("chunk 包装\n"),v("ul",[v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("seal(modules): void")])]),o._v(" "),v("li",[o._v("优化 Dependencie\n"),v("ul",[v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("optimizeDependenciesBasic(modules): Boolean")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("optimizeDependencies(modules): Boolean")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("optimizeDependenciesAdvanced(modules): Boolean")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("afterOptimizeDependencies(modules): void")])])])]),o._v(" "),v("li",[o._v("创建 chunk\n"),v("ul",[v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("beforeChunks(): void")])]),o._v(" "),v("li",[o._v("由 "),v("code",[o._v("~~preparedChunk~~_preparedEntrypoints")]),o._v(" 创建 "),v("code",[o._v("chunk")])]),o._v(" "),v("li",[o._v("根据模块网络创建chunk网络")]),o._v(" "),v("li",[o._v("module 排序")]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("afterChunks(): void")])])])]),o._v(" "),v("li",[o._v("优化 module\n"),v("ul",[v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("optimize(): void")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("optimize-modules-basic(modules): Boolean")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("optimize-modules(modules): Boolean")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("optimize-modules-advanced(modules): Boolean")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("after-optimize-modules(modules): void")])])])]),o._v(" "),v("li",[o._v("优化 chunk\n"),v("ul",[v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("optimize-chunks-basic(chunks): Boolean")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("optimize-chunks(chunks): Boolean")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("optimize-chunks-advanced(chunks): Boolean")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("after-optimize-chunks(chunks): void")])])])]),o._v(" "),v("li",[o._v("优化 module-chunk 树\n"),v("ul",[v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("optimize-tree(chunks, modules, cb): void")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("after-optimize-tree(chunks, modules): void")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("optimize-chunk-modules-basic(chunks, modules): Boolean")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("optimize-chunk-modules(chunks, modules): Boolean")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("optimize-chunk-modules-advanced(chunks, modules): Boolean")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("after-chunk-modules(chunks, modules): void")])])])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("should-record(): Boolean")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("revive-modules(modules, records): void")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("optimize-module-order(modules): void")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("advanced-optimize-module-order(modules): void")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("before-module-ids(modules): void")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("module-ids(modules): void")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("optimize-module-ids(modules): void")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("after-optimize-module-ids(modules): void")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("revive-chunks(chunks, records): void")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("optimize-chunk-order(chunks): void")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("before-chunk-ids(chunks): void")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("optimize-chunk-ids(chunks): void")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("after-optimize-chunk-ids(chunks): void")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("record-modules(modules, records): void")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("record-chunks(chunks, records): void")])]),o._v(" "),v("li",[o._v("创建hash\n"),v("ul",[v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("before-hash(): void")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("chunk-hash(chunk, chunkHash): void")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("record-hash(records): void")])])])]),o._v(" "),v("li",[o._v("创建模块静态化\n"),v("ul",[v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("before-module-assets(): void")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("module-asset(module, fileName): void")])])])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("should-generate-chunk-assets(): Boolean")])]),o._v(" "),v("li",[o._v("创建chunk静态化\n"),v("ul",[v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("before-chunk-assets(): Boolean")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("chunk-asset(chunk, file): void")])])])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("additional-chunk-assets(chunks): void")])]),o._v(" "),v("li",[o._v("summarizeDependencies")]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("record(compilation, records): void")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("additional-assets(cb): void")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("optimize-chunk-assets(chunks, cb): void")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("after-optimize-chunk-assets(chunks): void")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("optimize-assets(assets, cb): void")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("after-optimize-assets(assets): void")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("need-additional-seal(): Boolean")])]),o._v(" "),v("li",[v("strong",[o._v("compilation.hook")]),o._v(": "),v("code",[o._v("after-seal(cb): Boolean")])])])])])},function(){var o=this.$createElement,e=this._self._c||o;return e("ul",[e("li",[e("strong",[this._v("hook")]),this._v(": "),e("code",[this._v("after-compile(compilation, cb): void")])])])},function(){var o=this.$createElement,e=this._self._c||o;return e("h3",{attrs:{id:"编译完成"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#编译完成","aria-hidden":"true"}},[this._v("#")]),this._v(" 编译完成")])},function(){var o=this,e=o.$createElement,v=o._self._c||e;return v("ul",[v("li",[v("strong",[o._v("hook")]),o._v(": "),v("code",[o._v("should-emit(compilation): Boolean")]),o._v(" "),v("ul",[v("li",[v("strong",[o._v("hook")]),o._v(": "),v("code",[o._v("done(stats): void")]),o._v(" "),v("br")])])])])},function(){var o=this,e=o.$createElement,v=o._self._c||e;return v("ol",[v("li",[o._v("输出\n"),v("ul",[v("li",[v("strong",[o._v("hook")]),o._v(": "),v("code",[o._v("emit(compilation, cb): void")])]),o._v(" "),v("li",[o._v("生成交付件（创建文件夹、写文件）······················· "),v("code",[o._v("output.path")])]),o._v(" "),v("li",[v("strong",[o._v("hook")]),o._v(": "),v("code",[o._v("after-emit(compilation, cb): void")]),o._v(" "),v("br")])])]),o._v(" "),v("li",[o._v("additional-pass\n"),v("ul",[v("li",[v("strong",[o._v("hook")]),o._v(": "),v("code",[o._v("need-additional-pass(): Boolean")]),o._v(" "),v("br")]),o._v(" "),v("li",[v("strong",[o._v("hook")]),o._v(": "),v("code",[o._v("done(stats): void")]),o._v(" "),v("br")]),o._v(" "),v("li",[v("strong",[o._v("hook")]),o._v(": "),v("code",[o._v("additional-pass(cb): void")])]),o._v(" "),v("li",[v("a",{attrs:{href:"#%E7%BC%96%E8%AF%91%E6%89%A7%E8%A1%8C"}},[o._v("重新编译")])])])]),o._v(" "),v("li",[o._v("存储编译状态\n"),v("ul",[v("li",[v("strong",[o._v("hook")]),o._v(": "),v("code",[o._v("done(stats): void")]),o._v(" "),v("br")])])])])}],!1,null,null,null);e.default=i.exports}}]);